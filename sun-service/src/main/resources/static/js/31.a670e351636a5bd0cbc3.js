webpackJsonp([31],{EiFN:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("P9l9"),i={data:function(){return{detailData:[],saveInitDetailTable:[],svnId:""}},mounted:function(){console.log(this.$route.query.projectName),this.$route.query.projectName&&this.getInit()},methods:{tableSearch:function(){var t=this;this.saveInitDetailTable&&this.saveInitDetailTable.length>0&&""!=this.svnId?this.detailData=this.saveInitDetailTable.filter(function(a){if(a.changeSet&&a.changeSet.indexOf(t.svnId)>-1)return a;t.detailData=[]}):this.detailData=this.saveInitDetailTable,console.log(this.detailData)},getInit:function(){var t=this;this.$post(s.a.jenkins.getJobNameDetail,{projectName:this.$route.query.projectName},function(a){a.success?(t.detailData=a.buildTasksList,t.saveInitDetailTable=a.buildTasksList):(t.$message.warning(a.message),t.detailData=[],t.saveInitDetailTable=[])})},statusFormatter:function(t){return"SUCCESS"==t.status?"成功":"失败"},handleBuildPage:function(){this.$router.go(-1)},handleBuildLog:function(t){console.log(t),this.$router.push({path:"/buildlog",query:{projectName:t.projectName,version:t.version}})},handleChangeLog:function(t){console.log(t),this.$router.push({path:"/changelog",query:{projectName:t.projectName,version:t.version}})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"detail-page"},[e("el-scrollbar",{staticClass:"test-scroll"},[e("div",{staticClass:"detail-content"},[e("div",{staticClass:"charts-head"},[e("span",{staticClass:"head-text"},[t._v("构建详情/历史")]),t._v(" "),e("span",{staticClass:"search-back",on:{click:t.handleBuildPage}},[e("span",{staticClass:"iconfont i-back"},[t._v("")]),t._v("返回面板")])]),t._v(" "),e("div",{staticClass:"detail-search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.svnId,expression:"svnId"}],staticClass:"search-ipt",attrs:{type:"text",placeholder:"SVN版本ID"},domProps:{value:t.svnId},on:{input:function(a){a.target.composing||(t.svnId=a.target.value)}}}),t._v(" "),e("div",{staticClass:"middle-area"},[e("span",{staticClass:"iconfont i-search",on:{click:t.tableSearch}},[t._v("")])])]),t._v(" "),e("div",{staticClass:"detail-table"},[e("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.detailData,border:""}},[e("el-table-column",{attrs:{prop:"status",label:"构建结果","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(a){return["SUCCESS"==a.row.status?e("span",{staticClass:"iconfont",staticStyle:{color:"#2DB61B"}},[t._v("")]):e("span",{staticClass:"iconfont",staticStyle:{color:"#E02323"}},[t._v("")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"changeSet",label:"SVN版本ID","min-width":"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"latelyTime",label:"构建时间","min-width":"130"}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"构建结果","min-width":"120",formatter:t.statusFormatter}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"静态代码审核结果","min-width":"140",formatter:t.statusFormatter}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"单元测试结果","min-width":"130",formatter:t.statusFormatter}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"验证测试结果","min-width":"130",formatter:t.statusFormatter}}),t._v(" "),e("el-table-column",{attrs:{prop:"column7",label:"操作","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"log-btn",on:{click:function(e){return t.handleBuildLog(a.row)}}},[t._v("日志")]),t._v(" "),e("button",{staticClass:"change-btn",on:{click:function(e){return t.handleChangeLog(a.row)}}},[t._v("变更记录")])]}}])})],1)],1)])])],1)},staticRenderFns:[]};var n=e("VU/8")(i,l,!1,function(t){e("N0V/")},"data-v-65c133e8",null);a.default=n.exports},"N0V/":function(t,a){}});